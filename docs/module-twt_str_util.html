<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>twt/str_util - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
    <link type="text/css" rel="stylesheet" href="styles/custom.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav id="nav">
    <h3 class="group-title"><a href="index.html">&#x3C; Home &#x3E;</a></h3><input class="search" placeholder="Search" type="text"><div class="list"><h3 class="group-title">Classes</h3><ul><li><a href="Array.html" class="className">Array</a><ul class='methods'><li data-type='method'><a href="Array.html#empty" class="methodName">empty</a></li><li data-type='method'><a href="Array.html#first" class="methodName">first</a></li><li data-type='method'><a href="Array.html#isLast" class="methodName">isLast</a></li><li data-type='method'><a href="Array.html#last" class="methodName">last</a></li></ul></li><li><a href="Date.html" class="className">Date</a><ul class='methods'><li data-type='method'><a href="Date.html#.format" class="methodName">format</a></li><li data-type='method'><a href="Date.html#.formatLength" class="methodName">formatLength</a></li><li data-type='method'><a href="Date.html#.sameDay" class="methodName">sameDay</a></li><li data-type='method'><a href="Date.html#addDays" class="methodName">addDays</a></li><li data-type='method'><a href="Date.html#addHours" class="methodName">addHours</a></li><li data-type='method'><a href="Date.html#addMillis" class="methodName">addMillis</a></li><li data-type='method'><a href="Date.html#addMinutes" class="methodName">addMinutes</a></li><li data-type='method'><a href="Date.html#addMonths" class="methodName">addMonths</a></li><li data-type='method'><a href="Date.html#addSeconds" class="methodName">addSeconds</a></li><li data-type='method'><a href="Date.html#addYears" class="methodName">addYears</a></li><li data-type='method'><a href="Date.html#diff" class="methodName">diff</a></li><li data-type='method'><a href="Date.html#earlierDayThan" class="methodName">earlierDayThan</a></li><li data-type='method'><a href="Date.html#format" class="methodName">format</a></li><li data-type='method'><a href="Date.html#incDay" class="methodName">incDay</a></li><li data-type='method'><a href="Date.html#incHour" class="methodName">incHour</a></li><li data-type='method'><a href="Date.html#incMilli" class="methodName">incMilli</a></li><li data-type='method'><a href="Date.html#incMinute" class="methodName">incMinute</a></li><li data-type='method'><a href="Date.html#incMonth" class="methodName">incMonth</a></li><li data-type='method'><a href="Date.html#incSecond" class="methodName">incSecond</a></li><li data-type='method'><a href="Date.html#incYear" class="methodName">incYear</a></li><li data-type='method'><a href="Date.html#laterDayThan" class="methodName">laterDayThan</a></li><li data-type='method'><a href="Date.html#sameDay" class="methodName">sameDay</a></li><li data-type='method'><a href="Date.html#toUtc" class="methodName">toUtc</a></li><li data-type='method'><a href="Date.html#truncTime" class="methodName">truncTime</a></li></ul></li><li><a href="Number.html" class="className">Number</a><ul class='methods'><li data-type='method'><a href="Number.html#between" class="methodName">between</a></li><li data-type='method'><a href="Number.html#nextPow2" class="methodName">nextPow2</a></li><li data-type='method'><a href="Number.html#prevPow2" class="methodName">prevPow2</a></li><li data-type='method'><a href="Number.html#roundToInt" class="methodName">roundToInt</a></li><li data-type='method'><a href="Number.html#toEnum" class="methodName">toEnum</a></li><li data-type='method'><a href="Number.html#toTime" class="methodName">toTime</a></li><li data-type='method'><a href="Number.html#truncToInt" class="methodName">truncToInt</a></li><li data-type='method'><a href="Number.html#zeroPadd" class="methodName">zeroPadd</a></li></ul></li><li><a href="Object.html" class="className">Object</a><ul class='methods'><li data-type='method'><a href="Object.html#.className" class="methodName">className</a></li><li data-type='method'><a href="Object.html#.contains" class="methodName">contains</a></li><li data-type='method'><a href="Object.html#.copy" class="methodName">copy</a></li><li data-type='method'><a href="Object.html#.isPrimitive" class="methodName">isPrimitive</a></li><li data-type='method'><a href="Object.html#.isType" class="methodName">isType</a></li><li data-type='method'><a href="Object.html#className" class="methodName">className</a></li><li data-type='method'><a href="Object.html#clone" class="methodName">clone</a></li><li data-type='method'><a href="Object.html#contains" class="methodName">contains</a></li><li data-type='method'><a href="Object.html#is" class="methodName">is</a></li><li data-type='method'><a href="Object.html#isPrimitive" class="methodName">isPrimitive</a></li><li data-type='method'><a href="Object.html#merge" class="methodName">merge</a></li></ul></li></ul><h3 class="group-title">Modules</h3><ul><li><a href="module-@crabel_proto.html" class="className">@crabel/proto</a><ul class='methods'><li data-type='method'><a href="module-@crabel_proto.html#.init" class="methodName">init</a></li></ul></li><li><a href="module-twt_str_util.html" class="className">twt/str_util</a><ul class='methods'><li data-type='method'><a href="module-twt_str_util.html#~normStr" class="methodName">normStr</a></li></ul></li></ul></div>
</nav>

<div id="main">
    
        <h1 class="page-title">twt/str_util</h1>
    

    




<section>

<header>
    
        
            
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">This module is part of the TwinTools core library, it contains utility functions that
extend the standard <b>String</b> interface adding support for string transformation
and formatting including token replacement, text layout construction and more.
Formatting function (format and expand) provide token substitution services using the
familiar handlebars notation i.e. {{ token }}.</div>
        

        
            










    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="str_util.js.html">str_util.js</a>, <a href="str_util.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    


        
    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="~normStr"><span class="type-signature">(inner) </span>normStr<span class="signature">(str, caller, def_value<span class="signature-attributes">opt</span>, len<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {String}</span></h4>

    



<div class="description">
    For internal use only. This method normalizes the given 'str'. If necessary the string
is truncated to 'len' number of characters. 'def_value' is returned if 'str' is empty
or null. The method throws if 'str' can't be converted to a string or if it is shorter
than the required number of characters 'len'.
</div>








    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>str</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The string to be processed</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>caller</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Name of the function that called 'normStr'. Used in
exception messages.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>def_value</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">The value to be used if 'str' is empty, null or not
defined.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>len</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Number.html">Number</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">If provided, 'normStr' truncates the resulting string to
'len' number of</td>
        </tr>

    
    </tbody>
</table>

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="str_util.js.html">str_util.js</a>, <a href="str_util.js.html#line75">line 75</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    Returns the processed string.
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>


    </dd>
</dl>

        


        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                

    

    <h4 class="name" id="~FormatterCallback"><span class="type-signature"></span>FormatterCallback<span class="signature">(obj, prop_name)</span><span class="type-signature"> &rarr; {String}</span></h4>

    



<div class="description">
    Callback function given to the 'str_util.subst.prop' function to format a given
property value.
</div>








    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>obj</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Object.html">Object</a></span>


            
            </td>

            

            

            <td class="description last">Object container object from which a value is used for
substitution.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>prop_name</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Name of the property of 'obj' whose value is being fetch for
substitution.</td>
        </tr>

    
    </tbody>
</table>

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="str_util.js.html">str_util.js</a>, <a href="str_util.js.html#line36">line 36</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    Formatted value of obj[prop_name].
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>


    </dd>
</dl>

        


            
                

    

    <h4 class="name" id="~ReviverCallback"><span class="type-signature"></span>ReviverCallback<span class="signature">(key, value)</span><span class="type-signature"> &rarr; {*}</span></h4>

    



<div class="description">
    Callback function given to the 'toObject' function to customize the conversion of JSON
values to object property values.
</div>








    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Key being assigned to the resulting object instance.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Value being assigned to the 'key' property.</td>
        </tr>

    
    </tbody>
</table>

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="str_util.js.html">str_util.js</a>, <a href="str_util.js.html#line47">line 47</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    Value processed by the ReviverCallback function. This value is assigned
to the 'key' property in place
of the 'value' string that was in the JSON document.
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">*</span>


    </dd>
</dl>

        


            
                

    

    <h4 class="name" id="~SubstCallback"><span class="type-signature"></span>SubstCallback<span class="signature">(token, &hellip;arg<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {String|null}</span></h4>

    



<div class="description">
    Callback function given to the 'expand' function to evaluate and determine value to be
used for substitution.
</div>








    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>token</code></td>
            

            <td class="type">
            
                
<span class="param-type">Token</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Object representing the token. The object has a 'name' and 'args'
properties.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>arg</code></td>
            

            <td class="type">
            
                
<span class="param-type">any</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last">Additional arguments passed to the expand function.</td>
        </tr>

    
    </tbody>
</table>

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="str_util.js.html">str_util.js</a>, <a href="str_util.js.html#line24">line 24</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    Value returned by the substitution callback function or null if
no substitution was
possible.
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>
|

<span class="param-type">null</span>


    </dd>
</dl>

        


            
                
<h4 class="name" id="~TableColumn">TableColumn</h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><a href="Object.html">Object</a></span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>width</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Number.html">Number</a></span>
|

<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>align</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="str_util.js.html">str_util.js</a>, <a href="str_util.js.html#line581">line 581</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                
<h4 class="name" id="~TableSpecs">TableSpecs</h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><a href="Object.html">Object</a></span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>columns</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Array.html">Array</a>.&lt;TableColumn></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rows</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Array.html">Array</a>.&lt;<a href="Array.html">Array</a>.&lt;String>></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="str_util.js.html">str_util.js</a>, <a href="str_util.js.html#line587">line 587</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                
<h4 class="name" id="~Token">Token</h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><a href="Object.html">Object</a></span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>args</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Array.html">Array</a>.&lt;String></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="str_util.js.html">str_util.js</a>, <a href="str_util.js.html#line18">line 18</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
    

    
</article>

</section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Tue, 18 Apr 2017 20:41:47 GMT using
    <a href="https://www.npmjs.com/package/namis">Namis</a> theme.
</footer>

<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.nicescroll/3.6.0/jquery.nicescroll.min.js"></script>
<script src="scripts/namis.search.jquery.js"></script>
<script>prettyPrint();
(function($){
    $('nav').niceScroll({
        cursorwidth: 7,
        hwacceleration: true,
        cursorcolor: "#036564",
        cursorborder: "1px solid #036564"
    });

    $('html').niceScroll({
        cursorwidth: 10,
        hwacceleration: true,
        smoothscroll: true,
        cursorminheight: 32,
        enablemousewheel: true, // nicescroll can manage mouse wheel events
        enablekeyboard: true // nicescroll can manage keyboard events
        ,cursorcolor: "#033649"
    });

    $('#nav').search(['className', 'methodName']);
})(jQuery);
</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>